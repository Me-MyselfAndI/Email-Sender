<GUILayout>
    send_button: button
    send_page: send_page
    setup_page: setup_page
    size: root.width, root.height
    textbox_setups: textbox_setups
    entry_fields_box_layout: entry_fields
    border: 20

    GridLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'Images/collapse.jpg'
        cols: 1
        Label:
            text: "Choose delivery mode:"
        BoxLayout:
            orientation: "horizontal"
            columns: 2
            allow_stretch: True
            ToggleButton:
                color: 0.2, 0.2, 0.2, 1
                background_normal: "button1.png"
                background_down: "button2.png"
                borders: 15, 15, 15, 15
                group: "means of connection"
                text: "Phone"
                size_hint: (1, 0.15)
                pos_hint: {'top' : 0.5}
                on_press: root.set_comm_mode("phone")

            ToggleButton:
                color: 0.2, 0.2, 0.2, 1
                background_normal: "button1.png"
                background_down: "button2.png"
                borders: 15, 15, 15, 15
                group: "means of connection"
                text: "Email"
                size_hint: (1, 0.15)
                pos_hint: {'top' : 0.5}
                on_press: root.set_comm_mode("email")


    GridLayout:
        id: setup_page
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'Images/rick_and_morty.jpg'

        cols: 1
        pos: 100, 100
        spacing: 10, 10
        padding: 50, 50
        size_hint: (None, None)
        size: (root.width - 100, root.height - 100)

        GridLayout:
            id: textbox_setups
            cols: 3
            spacing: 30, 10
            padding: 30, 50
            size_hint: (1, 1)
            size: (root.width, root.height - 100)

        PromptAddNew:
            height: 0.4 * root.height

    BoxLayout:
        id: send_page
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'Images/collapse.jpg'
        columns: 1
        orientation: "vertical"
        allow_stretch: True
        spacing: 10
        padding: 10
        size: root.width, root.height

        BoxLayout:
            orientation: "horizontal"
            allow_stretch: True
            spacing: 40
            padding: 10
            size: 100, 40

            Label:
                text: "Choose a means of communication:"
                pos_hint: { 'top' : 1}
                size_hint: (1, None)
                height: 30

        BoxLayout:
            id: entry_fields
            orientation: "horizontal"
            allow_stretch: True
            spacing: 40
            padding: 10
            size: root.width, root.height*0.7

        RoundedButton:
            id: button
            text: "Send"
            pos_hint: {"center_x": 0.5}
            size_hint: (0.6, 0.2)
            on_press: root.submit()