<GUILayout>
    send_button: button
    contacts: emails
    setup_page: setup_page
    names: names
    mode_label: mode_label
    size: root.width, root.height

    GridLayout:
        id: setup_page
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'rick_and_morty.jpg'

        cols: 1
        pos: 100, 100
        spacing: 10, 10
        padding: 50, 50
        size_hint: (None, None)
        size: (root.width - 100, root.height - 100)

        PromptAddNew:
            height: 0.4 * root.height
            page: root

    BoxLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'collapse.jpg'
        columns: 1
        orientation: "vertical"
        allow_stretch: True
        spacing: 10
        padding: 10
        size: root.width, root.height

        BoxLayout:
            orientation: "horizontal"
            allow_stretch: True
            spacing: 40
            padding: 10
            size: 100, 40

            Label:
                text: "Choose a means of communication:"
                pos_hint: { 'top' : 1}
                size_hint: (1, None)
                height: 30

            ToggleButton:
                group: "means of connection"
                text: "Phone"
                size_hint: (1, 0.1)
                pos_hint: { 'top' : 1}
                on_press: root.set_comm_mode("phone")

            ToggleButton:
                group: "means of connection"
                text: "Email"
                size_hint: (1, 0.1)
                pos_hint: { 'top' : 1}
                on_press: root.set_comm_mode("email")



        BoxLayout:
            orientation: "horizontal"
            allow_stretch: True
            spacing: 40
            padding: 10
            size: root.width, root.height*0.7

            BoxLayout:
                orientation: "vertical"
                allow_stretch: True
                spacing: 20
                padding: 10
                size_hint: (0.8, 0.6)

                Label:
                    id: mode_label
                    text: "Recipients' Emails:"
                    size_hint: (1, None)
                    height: 30

                TextInput:
                    id: emails
                    multiline: True
                    size_hint: (1, None)
                    height: (root.height - 30)*0.8

            BoxLayout:
                orientation: "vertical"
                allow_stretch: True
                spacing: 20
                padding: 10
                size_hint: (0.2, 0.6)

                Label:
                    text: "Recipients' Names:"
                    size_hint: (1, None)
                    height: 30

                TextInput:
                    id: names
                    multiline: True
                    size_hint: (1, None)
                    height: (root.height - 30)*0.8

        Button:
            id: button
            text: "Send"
            size_hint: (1, 0.1)
            on_press: root.submit()
