<GUILayout>
    send_button: button
    emails: emails
    names: names
    mode_label: mode_label

    size: root.width, root.height

    GridLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'rick_and_morty.jpg'

        cols: 1
        pos: 100, 100
        size_hint: (None, None)
        size: (root.width - 100, root.height - 100)
        PromptSetup:
        PromptAddNew:

    BoxLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'collapse.jpg'
        columns: 1
        orientation: "vertical"
        allow_stretch: True
        spacing: 10
        padding: 10
        size: root.width, root.height

        BoxLayout:
            orientation: "horizontal"
            allow_stretch: True
            spacing: 40
            padding: 10
            size: 100, 40

            Label:
                text: "Choose a means of communication:"
                pos_hint: { 'top' : 1}
                size_hint: (1, None)
                height: 30

            ToggleButton:
                group: "means of connection"
                text: "Phone"
                size_hint: (1, 0.1)
                pos_hint: { 'top' : 1}
                on_press: root.set_comm_mode("phone")

            ToggleButton:
                group: "means of connection"
                text: "Email"
                size_hint: (1, 0.1)
                pos_hint: { 'top' : 1}
                on_press: root.set_comm_mode("email")



        BoxLayout:
            orientation: "horizontal"
            allow_stretch: True
            spacing: 40
            padding: 10
            size: root.width, root.height*0.7

            BoxLayout:
                orientation: "vertical"
                allow_stretch: True
                spacing: 20
                padding: 10
                size_hint: (0.8, 0.6)

                Label:
                    id: mode_label
                    text: "Recipients' Emails:"
                    size_hint: (1, None)
                    height: 30

                TextInput:
                    id: emails
                    multiline: True
                    size_hint: (1, None)
                    height: (root.height - 30)*0.8

            BoxLayout:
                orientation: "vertical"
                allow_stretch: True
                spacing: 20
                padding: 10
                size_hint: (0.2, 0.6)

                Label:
                    text: "Recipients' Names:"
                    size_hint: (1, None)
                    height: 30

                TextInput:
                    id: names
                    multiline: True
                    size_hint: (1, None)
                    height: (root.height - 30)*0.8

        Button:
            id: button
            text: "Send"
            size_hint: (1, 0.1)
            on_press: root.submit()


<PromptAddNew@BoxLayout>
    orientation: "horizontal"
    columns: 2
    padding: 30
    spacing: 10
    Button:
        text: "Add a short textbox"
        size_hint: (0.5, None)
        heigth: 40
    Button:
        text: "Add a long textbox"
        size_hint: (0.5, None)
        heigth: 40


<PromptSetup@BoxLayout>
    cols: 2
    orientation: "horizontal"
    padding: 30
    spacing: 10
    Button:
        size_hint: (0.1, None)
        pos_hint: {"top": 1}
        text: "Delete Field"
        height: 60
    GridLayout:
        size_hint: (0.9, 1)
        cols: 1
        Label:
            text: "Title"
            background_color: (0.3, 0.3, 0.3, 1)
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            size_hint: (1, None)
            height: 30
        TextInput:

            size_hint: (1, None)
            height: 30

